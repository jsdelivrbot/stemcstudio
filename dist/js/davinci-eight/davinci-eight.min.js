!function(a,b){var c,d,b,e=a.define;!function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},c=d=n=function(b,c,d,e,f){if("string"==typeof b)return p[b]?p[b](c):j(o(b,c).f);if(!b.splice){if(s=b,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n},n.config=function(a){return n(a)},c._defined=q,b=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},b.amd={jQuery:!0}}(),b("../vendor/almond/almond",function(){}),b("davinci-eight/core",["require","exports"],function(){var a={VERSION:"2.0.0"};return a}),b("davinci-eight/materials/material",["require","exports"],function(){var a=function(){var a,b={get attributes(){return[]},contextFree:function(){},contextGain:function(){},contextLoss:function(){},hasContext:function(){return!!a},enableVertexAttributes:function(){},disableVertexAttributes:function(){},bindVertexAttributes:function(){},get program(){return a},get programId(){return Math.random().toString()},update:function(){}};return b};return a}),b("davinci-blade/NotImplementedError",["require","exports"],function(){function a(a){this.name="NotImplementedError",this.message=a||""}return a.prototype=new Error,a}),b("davinci-blade/Rational",["require","exports","davinci-blade/Unit"],function(a,b,c){function d(a){this.name="RationalError",this.message=a||""}function e(a,b){if("number"==typeof b)return b;throw new d("Argument '"+a+"' must be a number")}function f(a,b){if(b instanceof g)return b;throw new d("Argument '"+b+"' must be a Rational")}d.prototype=new Error;var g=function(){function a(a,b){e("n",a),e("d",b);var c,d=function(a,b){e("a",a),e("b",b);var c;for(0>a&&(a=-a),0>b&&(b=-b),b>a&&(c=a,a=b,b=c);;){if(a%=b,0===a)return b;if(b%=a,0===b)return a}};if(0===b)throw new Error("denominator must not be zero");c=0===a?1:d(Math.abs(a),Math.abs(b)),0>b&&(a=-a,b=-b),this._numer=a/c,this._denom=b/c}return Object.defineProperty(a.prototype,"numer",{get:function(){return this._numer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"denom",{get:function(){return this._denom},enumerable:!0,configurable:!0}),a.prototype.add=function(b){return f("rhs",b),new a(this._numer*b._denom+this._denom*b._numer,this._denom*b._denom)},a.prototype.sub=function(b){return f("rhs",b),new a(this._numer*b._denom-this._denom*b._numer,this._denom*b._denom)},a.prototype.mul=function(b){return f("rhs",b),new a(this._numer*b._numer,this._denom*b._denom)},a.prototype.div=function(b){return"number"==typeof b?new a(this._numer,this._denom*b):new a(this._numer*b._denom,this._denom*b._numer)},a.prototype.isZero=function(){return 0===this._numer},a.prototype.negative=function(){return new a(-this._numer,this._denom)},a.prototype.equals=function(b){return b instanceof a?this._numer*b._denom===this._denom*b._numer:!1},a.prototype.toString=function(){return""+this._numer+"/"+this._denom},a.ONE=new a(1,1),a.TWO=new a(2,1),a.MINUS_ONE=new a(-1,1),a.ZERO=new a(0,1),a}();return g}),b("davinci-blade/Dimensions",["require","exports","davinci-blade/Rational"],function(a,b,c){function d(a){this.name="DimensionError",this.message=a||""}d.prototype=new Error;var e=function(){function a(a,b,d,e,f,g,h){this.L=b,this.T=d,this.Q=e,this.temperature=f,this.amount=g,this.intensity=h;var i=b,j=d,k=e;if(7!==arguments.length)throw{name:"DimensionError",message:"Expecting 7 arguments"};if("number"==typeof a)this._mass=new c(a,1);else{if(!(a instanceof c))throw{name:"DimensionError",message:"mass must be a Rational or number"};this._mass=a}if("number"==typeof i)this.L=new c(i,1);else{if(!(i instanceof c))throw{name:"DimensionError",message:"length must be a Rational or number"};this.L=i}if("number"==typeof j)this.T=new c(j,1);else{if(!(j instanceof c))throw{name:"DimensionError",message:"time must be a Rational or number"};this.T=j}if("number"==typeof k)this.Q=new c(k,1);else{if(!(k instanceof c))throw{name:"DimensionError",message:"charge must be a Rational or number"};this.Q=k}if("number"==typeof f)this.temperature=new c(f,1);else{if(!(f instanceof c))throw{name:"DimensionError",message:"(thermodynamic) temperature must be a Rational or number"};this.temperature=f}if("number"==typeof g)this.amount=new c(g,1);else{if(!(g instanceof c))throw{name:"DimensionError",message:"amount (of substance) must be a Rational or number"};this.amount=g}if("number"==typeof h)this.intensity=new c(h,1);else{if(!(h instanceof c))throw{name:"DimensionError",message:"(luminous) intensity must be a Rational or number"};this.intensity=h}}return Object.defineProperty(a.prototype,"M",{get:function(){return this._mass},enumerable:!0,configurable:!0}),a.prototype.compatible=function(a){if(this._mass.equals(a._mass)&&this.L.equals(a.L)&&this.T.equals(a.T)&&this.Q.equals(a.Q)&&this.temperature.equals(a.temperature)&&this.amount.equals(a.amount)&&this.intensity.equals(a.intensity))return this;throw new d("Dimensions must be equal ("+this+", "+a+")")},a.prototype.mul=function(b){return new a(this._mass.add(b._mass),this.L.add(b.L),this.T.add(b.T),this.Q.add(b.Q),this.temperature.add(b.temperature),this.amount.add(b.amount),this.intensity.add(b.intensity))},a.prototype.div=function(b){return new a(this._mass.sub(b._mass),this.L.sub(b.L),this.T.sub(b.T),this.Q.sub(b.Q),this.temperature.sub(b.temperature),this.amount.sub(b.amount),this.intensity.sub(b.intensity))},a.prototype.pow=function(b){return new a(this._mass.mul(b),this.L.mul(b),this.T.mul(b),this.Q.mul(b),this.temperature.mul(b),this.amount.mul(b),this.intensity.mul(b))},a.prototype.sqrt=function(){return new a(this._mass.div(c.TWO),this.L.div(c.TWO),this.T.div(c.TWO),this.Q.div(c.TWO),this.temperature.div(c.TWO),this.amount.div(c.TWO),this.intensity.div(c.TWO))},a.prototype.dimensionless=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},a.prototype.isZero=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},a.prototype.negative=function(){return new a(this._mass.negative(),this.L.negative(),this.T.negative(),this.Q.negative(),this.temperature.negative(),this.amount.negative(),this.intensity.negative())},a.prototype.toString=function(){var a=function(a,b){return 0===a.numer?null:1===a.denom?1===a.numer?""+b:""+b+" ** "+a.numer:""+b+" ** "+a};return[a(this._mass,"mass"),a(this.L,"length"),a(this.T,"time"),a(this.Q,"charge"),a(this.temperature,"thermodynamic temperature"),a(this.amount,"amount of substance"),a(this.intensity,"luminous intensity")].filter(function(a){return"string"==typeof a}).join(" * ")},a}();return e}),b("davinci-blade/Unit",["require","exports","davinci-blade/Dimensions","davinci-blade/Rational"],function(a,b,c,d){function e(a){this.name="UnitError",this.message=a||""}function f(a,b){if("number"==typeof b)return b;throw new e("Argument '"+a+"' must be a number")}function g(a,b){if(b instanceof c)return b;throw new e("Argument '"+b+"' must be a Dimensions")}function h(a,b){if(b instanceof d)return b;throw new e("Argument '"+b+"' must be a Rational")}function i(a,b){if(b instanceof r)return b;throw new e("Argument '"+b+"' must be a Unit")}function j(a,b){return"undefined"==typeof b?b:i(a,b)}function k(a,b){return new r(a.scale+b.scale,a.dimensions.compatible(b.dimensions),a.labels)}function l(a,b){return new r(a.scale-b.scale,a.dimensions.compatible(b.dimensions),a.labels)}function m(a,b){return new r(a.scale*b.scale,a.dimensions.mul(b.dimensions),a.labels)}function n(a,b){return new r(a*b.scale,b.dimensions,b.labels)}function o(a,b){return new r(a.scale/b.scale,a.dimensions.div(b.dimensions),a.labels)}e.prototype=new Error;var p=function(a,b,c){f("scale",a),g("dimensions",b);var d,e,h,i=function(a,b){return 0===a.numer?null:1===a.denom?1===a.numer?""+b:""+b+" ** "+a.numer:""+b+" ** "+a};return d=1===a||b.isZero()?"":" ",e=1===a?"":""+a,h=[i(b.M,c[0]),i(b.L,c[1]),i(b.T,c[2]),i(b.Q,c[3]),i(b.temperature,c[4]),i(b.amount,c[5]),i(b.intensity,c[6])].filter(function(a){return"string"==typeof a}).join(" "),""+e+d+h},q=function(a,b,c){for(var d=[[-1,1,-3,1,2,1,2,1,0,1,0,1,0,1],[-1,1,-2,1,1,1,2,1,0,1,0,1,0,1],[-1,1,-2,1,2,1,2,1,0,1,0,1,0,1],[-1,1,3,1,-2,1,0,1,0,1,0,1,0,1],[0,1,0,1,-1,1,0,1,0,1,0,1,0,1],[0,1,0,1,-1,1,1,1,0,1,0,1,0,1],[0,1,1,1,-2,1,0,1,0,1,0,1,0,1],[0,1,1,1,-1,1,0,1,0,1,0,1,0,1],[1,1,1,1,-1,1,0,1,0,1,0,1,0,1],[1,1,-1,1,-2,1,0,1,0,1,0,1,0,1],[1,1,-1,1,-1,1,0,1,0,1,0,1,0,1],[1,1,0,1,-3,1,0,1,0,1,0,1,0,1],[1,1,0,1,-2,1,0,1,0,1,0,1,0,1],[1,1,0,1,-1,1,-1,1,0,1,0,1,0,1],[1,1,1,1,-3,1,0,1,-1,1,0,1,0,1],[1,1,1,1,-2,1,-1,1,0,1,0,1,0,1],[1,1,1,1,-2,1,0,1,0,1,0,1,0,1],[1,1,1,1,0,1,-2,1,0,1,0,1,0,1],[1,1,2,1,-2,1,0,1,-1,1,0,1,0,1],[0,1,2,1,-2,1,0,1,-1,1,0,1,0,1],[1,1,2,1,-2,1,0,1,-1,1,-1,1,0,1],[1,1,2,1,-2,1,0,1,0,1,-1,1,0,1],[1,1,2,1,-2,1,0,1,0,1,0,1,0,1],[1,1,2,1,-1,1,0,1,0,1,0,1,0,1],[1,1,2,1,-3,1,0,1,0,1,0,1,0,1],[1,1,2,1,-2,1,-1,1,0,1,0,1,0,1],[1,1,2,1,-1,1,-2,1,0,1,0,1,0,1],[1,1,2,1,0,1,-2,1,0,1,0,1,0,1],[1,1,2,1,-1,1,-1,1,0,1,0,1,0,1]],e=[["F/m"],["S"],["F"],["N·m ** 2/kg ** 2"],["Hz"],["A"],["m/s ** 2"],["m/s"],["kg·m/s"],["Pa"],["Pa·s"],["W/m ** 2"],["N/m"],["T"],["W/(m·K)"],["V/m"],["N"],["H/m"],["J/K"],["J/(kg·K)"],["J/(mol·K)"],["J/mol"],["J"],["J·s"],["W"],["V"],["Ω"],["H"],["Wb"]],f=b.M,g=b.L,h=b.T,i=b.Q,j=b.temperature,k=b.amount,l=b.intensity,m=0,n=d.length;n>m;m++){var o=d[m];if(f.numer===o[0]&&f.denom===o[1]&&g.numer===o[2]&&g.denom===o[3]&&h.numer===o[4]&&h.denom===o[5]&&i.numer===o[6]&&i.denom===o[7]&&j.numer===o[8]&&j.denom===o[9]&&k.numer===o[10]&&k.denom===o[11]&&l.numer===o[12]&&l.denom===o[13])return 1!==a?a+" * "+e[m][0]:e[m][0]}return p(a,b,c)},r=function(){function a(a,b,c){if(this.scale=a,this.dimensions=b,this.labels=c,7!==c.length)throw new Error("Expecting 7 elements in the labels array.");this.scale=a,this.dimensions=b,this.labels=c}return a.prototype.compatible=function(b){if(b instanceof a)return this.dimensions.compatible(b.dimensions),this;throw new Error("Illegal Argument for Unit.compatible: "+b)},a.prototype.add=function(a){return i("rhs",a),k(this,a)},a.prototype.__add__=function(b){return b instanceof a?k(this,b):void 0},a.prototype.__radd__=function(b){return b instanceof a?k(b,this):void 0},a.prototype.sub=function(a){return i("rhs",a),l(this,a)},a.prototype.__sub__=function(b){return b instanceof a?l(this,b):void 0},a.prototype.__rsub__=function(b){return b instanceof a?l(b,this):void 0},a.prototype.mul=function(a){return i("rhs",a),m(this,a)},a.prototype.__mul__=function(b){return b instanceof a?m(this,b):"number"==typeof b?n(b,this):void 0},a.prototype.__rmul__=function(b){return b instanceof a?m(b,this):"number"==typeof b?n(b,this):void 0},a.prototype.div=function(a){return i("rhs",a),o(this,a)},a.prototype.__div__=function(b){return b instanceof a?o(this,b):"number"==typeof b?new a(this.scale/b,this.dimensions,this.labels):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?o(b,this):"number"==typeof b?new a(b/this.scale,this.dimensions.negative(),this.labels):void 0},a.prototype.pow=function(b){return h("exponent",b),new a(Math.pow(this.scale,b.numer/b.denom),this.dimensions.pow(b),this.labels)},a.prototype.inverse=function(){return new a(1/this.scale,this.dimensions.negative(),this.labels)},a.prototype.isUnity=function(){return this.dimensions.dimensionless()&&1===this.scale},a.prototype.norm=function(){return new a(Math.abs(this.scale),this.dimensions,this.labels)},a.prototype.quad=function(){return new a(this.scale*this.scale,this.dimensions.mul(this.dimensions),this.labels)},a.prototype.toString=function(){return q(this.scale,this.dimensions,this.labels)},a.isUnity=function(b){if("undefined"==typeof b)return!0;if(b instanceof a)return b.isUnity();throw new Error("isUnity argument must be a Unit or undefined.")},a.assertDimensionless=function(b){if(!a.isUnity(b))throw new e("uom must be dimensionless.")},a.compatible=function(a,b){if(j("lhs",a),j("rhs",b),a){if(b)return a.compatible(b);if(a.isUnity())return void 0;throw new e(a+" is incompatible with 1")}if(b){if(b.isUnity())return void 0;throw new e("1 is incompatible with "+b)}return void 0},a.mul=function(b,c){return b instanceof a?c instanceof a?b.mul(c):a.isUnity(c)?b:void 0:a.isUnity(b)?c:void 0},a.div=function(b,c){return b instanceof a?c instanceof a?b.div(c):b:c instanceof a?c.inverse():void 0},a.sqrt=function(b){return"undefined"!=typeof b?(i("uom",b),b.isUnity()?void 0:new a(Math.sqrt(b.scale),b.dimensions.sqrt(),b.labels)):void 0},a}();return r}),b("davinci-blade/Euclidean3",["require","exports","davinci-blade/NotImplementedError","davinci-blade/Unit"],function(a,b,c,d){function e(a){this.name="Euclidean3Error",this.message=a||""}function f(a,b){if("number"==typeof b)return b;throw new e("Argument '"+a+"' must be a number")}function g(a,b){if(b instanceof s)return b;throw new e("Argument '"+b+"' must be a Euclidean3")}function h(a,b){if("undefined"==typeof b||b instanceof d)return b;throw new e("Argument '"+b+"' must be a Unit or undefined")}function i(a,b,c,d,e,f){var g=d(b,0),h=d(b,1),i=d(b,2),j=d(b,3),k=d(b,4),l=d(b,5),m=d(b,6),n=d(b,7),o=d(c,0),p=d(c,1),q=d(c,2),r=d(c,3),s=d(c,4),t=d(c,5),u=d(c,6),v=d(c,7),w=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,0),x=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,1),y=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,2),z=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,3),A=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,4),B=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,5),C=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,6),D=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,7);return e(w,x,y,z,A,B,C,D,f)}function j(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a+j);break;case 1:s=+(b+k);break;case 2:s=+(c+l);break;case 3:s=+(d+m);break;case 4:s=+(f+n);break;case 5:s=+(g+o);break;case 6:s=+(h+p);break;case 7:s=+(i+q);break;default:throw new e("index must be in the range [0..7]")}return+s}function k(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a-j);break;case 1:s=+(b-k);break;case 2:s=+(c-l);break;case 3:s=+(d-m);break;case 4:s=+(f-n);break;case 5:s=+(g-o);break;case 6:s=+(h-p);break;case 7:s=+(i-q);break;default:throw new e("index must be in the range [0..7]")}return+s}function l(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+d*m-f*n-g*o-h*p-i*q);break;case 1:s=+(a*k+b*j-c*n+d*p+f*l-g*q-h*m-i*o);break;case 2:s=+(a*l+b*n+c*j-d*o-f*k+g*m-h*q-i*p);break;case 3:s=+(a*m-b*p+c*o+d*j-f*q-g*l+h*k-i*n);break;case 4:s=+(a*n+b*l-c*k+d*q+f*j-g*p+h*o+i*m);break;case 5:s=+(a*o+b*q+c*m-d*l+f*p+g*j-h*n+i*k);break;case 6:s=+(a*p-b*m+c*q+d*k-f*o+g*n+h*j+i*l);break;case 7:s=+(a*q+b*o+c*p+d*n+f*m+g*k+h*l+i*j);break;default:throw new e("index must be in the range [0..7]")}return+s}function m(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+d*m-f*n-g*o-h*p-i*q);break;case 1:s=0;break;case 2:s=0;break;case 3:s=0;break;case 4:s=0;break;case 5:s=0;break;case 6:s=0;break;case 7:s=0;break;default:throw new e("index must be in the range [0..7]")}return+s}function n(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j);break;case 1:s=+(a*k+b*j);break;case 2:s=+(a*l+c*j);break;case 3:s=+(a*m+d*j);break;case 4:s=+(a*n+b*l-c*k+f*j);break;case 5:s=+(a*o+c*m-d*l+g*j);break;case 6:s=+(a*p-b*m+d*k+h*j);break;case 7:s=+(a*q+b*o+c*p+d*n+f*m+g*k+h*l+i*j);break;default:throw new e("index must be in the range [0..7]")}return+s}function o(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+d*m-f*n-g*o-h*p-i*q);break;case 1:s=+(a*k-c*n+d*p-g*q);break;case 2:s=+(a*l+b*n-d*o-h*q);break;case 3:s=+(a*m-b*p+c*o-f*q);break;case 4:s=+(a*n+d*q);break;case 5:s=+(a*o+b*q);break;case 6:s=+(a*p+c*q);break;case 7:s=+(a*q);break;default:throw new e("index must be in the range [0..7]")}return+s}function p(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,d=+d,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+d*m-f*n-g*o-h*p-i*q);break;case 1:s=+(+b*j+f*l-h*m-i*o);break;case 2:s=+(+c*j-f*k+g*m-i*p);break;case 3:s=+(+d*j-g*l+h*k-i*n);break;case 4:s=+(+f*j+i*m);break;case 5:s=+(+g*j+i*k);break;case 6:s=+(+h*j+i*l);break;case 7:s=+(+i*j);break;default:throw new e("index must be in the range [0..7]")}return+s}function q(a,b,c){var d,e,f,g,h=[],i=function(a,c){var d;0!==a&&(a>=0?h.length>0&&h.push("+"):h.push("-"),d=Math.abs(a),1===d?h.push(c):(h.push(b(d)),"1"!==c&&(h.push("*"),h.push(c))))};for(d=e=0,f=a.length-1;f>=0?f>=e:e>=f;d=f>=0?++e:--e)i(a[d],c[d]);return g=h.length>0?h.join(""):"0"}e.prototype=new Error;var r=function(a,b,c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,t){var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa;return T=+i,U=+j,V=+k,W=-m,X=+n,Y=-o,Z=-p,$=-q,L=l(i,j,k,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,0),M=l(i,j,k,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,1),N=l(i,j,k,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,2),O=0,P=l(i,j,k,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,3),Q=0,R=0,S=0,u=+L,v=-M,w=-N,x=-O,y=-P,z=-Q,A=-R,B=+S,_=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,0),aa=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,1),ba=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,2),ca=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,4),da=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,3),ea=-l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,6),fa=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,5),ga=l(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,7),K=l(i,j,k,n,m,p,-o,q,_,aa,ba,da,ca,fa,-ea,ga,0),C=_/K,D=aa/K,E=ba/K,F=ca/K,G=da/K,H=ea/K,I=fa/K,J=ga/K,ja=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,0),ka=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,1),la=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,2),ma=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,4),na=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,3),oa=-l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,6),pa=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,5),qa=l(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,7),ha=ja,ia=ka,ta=la,va=na,ra=ma,ua=pa,wa=-oa,sa=qa,"undefined"==typeof t?new s(ha,ia,ta,va,ra,ua,wa,sa,r):(t.w=ha,t.x=ia,t.y=ta,t.z=va,t.xy=ra,t.yz=ua,t.zx=wa,t.xyz=sa,t.uom=r,void 0)},s=function(){function a(a,b,c,e,g,i,j,k,l){if(this.w=f("w",a),this.x=f("x",b),this.y=f("y",c),this.z=f("z",e),this.xy=f("xy",g),this.yz=f("yz",i),this.zx=f("zx",j),this.xyz=f("xyz",k),this.uom=h("uom",l),this.uom&&1!==this.uom.scale){var m=this.uom.scale;this.w*=m,this.x*=m,this.y*=m,this.z*=m,this.xy*=m,this.yz*=m,this.zx*=m,this.xyz*=m,this.uom=new d(1,l.dimensions,l.labels)}}return a.fromCartesian=function(b,c,d,e,g,i,j,k,l){return f("w",b),f("x",c),f("y",d),f("z",e),f("xy",g),f("yz",i),f("zx",j),f("xyz",k),h("uom",l),new a(b,c,d,e,g,i,j,k,l)},a.prototype.coordinates=function(){return[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz]},a.prototype.coordinate=function(a){switch(f("index",a),a){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.z;case 4:return this.xy;case 5:return this.yz;case 6:return this.zx;case 7:return this.xyz;default:throw new e("index must be in the range [0..7]")}},a.prototype.add=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(j,this.coordinates(),b.coordinates(),c,e,d.compatible(this.uom,b.uom))},a.prototype.__add__=function(b){return b instanceof a?this.add(b):"number"==typeof b?this.add(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__radd__=function(b){return b instanceof a?b.add(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).add(this):void 0},a.prototype.sub=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(k,this.coordinates(),b.coordinates(),c,e,d.compatible(this.uom,b.uom))},a.prototype.__sub__=function(b){return b instanceof a?this.sub(b):"number"==typeof b?this.sub(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rsub__=function(b){return b instanceof a?b.sub(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).sub(this):void 0},a.prototype.mul=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(l,this.coordinates(),b.coordinates(),c,e,d.mul(this.uom,b.uom))},a.prototype.__mul__=function(b){return b instanceof a?this.mul(b):"number"==typeof b?this.mul(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rmul__=function(b){return b instanceof a?b.mul(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).mul(this):void 0},a.prototype.scalarMultiply=function(b){return new a(this.w*b,this.x*b,this.y*b,this.z*b,this.xy*b,this.yz*b,this.zx*b,this.xyz*b,this.uom)},a.prototype.div=function(a){return g("rhs",a),r(this.w,this.x,this.y,this.xy,this.z,-this.zx,this.yz,this.xyz,a.w,a.x,a.y,a.xy,a.z,-a.zx,a.yz,a.xyz,d.div(this.uom,a.uom))},a.prototype.__div__=function(b){return b instanceof a?this.div(b):"number"==typeof b?this.div(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?b.div(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).div(this):void 0},a.prototype.splat=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(m,this.coordinates(),b.coordinates(),c,e,d.mul(this.uom,b.uom))},a.prototype.wedge=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(n,this.coordinates(),b.coordinates(),c,e,d.mul(this.uom,b.uom))},a.prototype.__vbar__=function(b){return b instanceof a?this.splat(b):"number"==typeof b?this.splat(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?b.splat(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).splat(this):void 0},a.prototype.__wedge__=function(b){return b instanceof a?this.wedge(b):"number"==typeof b?this.wedge(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rwedge__=function(b){return b instanceof a?b.wedge(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).wedge(this):void 0},a.prototype.lshift=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(o,this.coordinates(),b.coordinates(),c,e,d.mul(this.uom,b.uom))},a.prototype.__lshift__=function(b){return b instanceof a?this.lshift(b):"number"==typeof b?this.lshift(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rlshift__=function(b){return b instanceof a?b.lshift(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).lshift(this):void 0},a.prototype.rshift=function(b){var c=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return i(p,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[b.w,b.x,b.y,b.z,b.xy,b.yz,b.zx,b.xyz],c,e,d.mul(this.uom,b.uom))},a.prototype.__rshift__=function(b){return b instanceof a?this.rshift(b):"number"==typeof b?this.rshift(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rrshift__=function(b){return b instanceof a?b.rshift(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).rshift(this):void 0},a.prototype.pow=function(){throw new e("pow")},a.prototype.__pos__=function(){return this},a.prototype.__neg__=function(){return new a(-this.w,-this.x,-this.y,-this.z,-this.xy,-this.yz,-this.zx,-this.xyz,this.uom)},a.prototype.__tilde__=function(){return new a(this.w,this.x,this.y,this.z,-this.xy,-this.yz,-this.zx,-this.xyz,this.uom)},a.prototype.grade=function(b){switch(f("index",b),b){case 0:return a.fromCartesian(this.w,0,0,0,0,0,0,0,this.uom);case 1:return a.fromCartesian(0,this.x,this.y,this.z,0,0,0,0,this.uom);case 2:return a.fromCartesian(0,0,0,0,this.xy,this.yz,this.zx,0,this.uom);case 3:return a.fromCartesian(0,0,0,0,0,0,0,this.xyz,this.uom);default:return a.fromCartesian(0,0,0,0,0,0,0,0,this.uom)}},a.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},a.prototype.cross=function(b){var c,e,f,g,h,i,j,k,l;return e=this.x,h=this.y,k=this.z,f=b.x,i=b.y,l=b.z,c=h*l-k*i,g=k*f-e*l,j=e*i-h*f,new a(0,c,g,j,0,0,0,0,d.mul(this.uom,b.uom))},a.prototype.length=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz)},a.prototype.cos=function(){d.assertDimensionless(this.uom);var b=Math.cos(this.w);return new a(b,0,0,0,0,0,0,0,void 0)},a.prototype.cosh=function(){throw new c("cosh(Euclidean3)")},a.prototype.exp=function(){throw new c("exp(Euclidean3)")},a.prototype.norm=function(){return new a(Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz),0,0,0,0,0,0,0,this.uom)},a.prototype.quad=function(){return new a(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz,0,0,0,0,0,0,0,d.mul(this.uom,this.uom))},a.prototype.sin=function(){throw new e("sin")},a.prototype.sinh=function(){throw new e("sinh")},a.prototype.unit=function(){return this.div(this.norm())},a.prototype.scalar=function(){return this.w},a.prototype.sqrt=function(){return new a(Math.sqrt(this.w),0,0,0,0,0,0,0,d.sqrt(this.uom))},a.prototype.toStringCustom=function(a,b){var c=q(this.coordinates(),a,b);if(this.uom){var d=this.uom.toString().trim();return d?c+" "+d:c}return c},a.prototype.toExponential=function(){var a=function(a){return a.toExponential()};return this.toStringCustom(a,["1","e1","e2","e3","e12","e23","e31","e123"])},a.prototype.toFixed=function(a){f("digits",a);var b=function(b){return b.toFixed(a)};return this.toStringCustom(b,["1","e1","e2","e3","e12","e23","e31","e123"])},a.prototype.toString=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","e1","e2","e3","e12","e23","e31","e123"])},a.prototype.toStringIJK=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","i","j","k","ij","jk","ki","I"])},a.prototype.toStringLATEX=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","e_{1}","e_{2}","e_{3}","e_{12}","e_{23}","e_{31}","e_{123}"])},a}();return s}),b("davinci-eight/math/e3ga/scalarE3",["require","exports","davinci-blade/Euclidean3"],function(a,b,c){var d=function(a){return new c(a,0,0,0,0,0,0,0)};return d}),b("davinci-eight/math/e3ga/vectorE3",["require","exports","davinci-blade/Euclidean3"],function(a,b,c){var d=function(a,b,d){return new c(0,a,b,d,0,0,0,0)};return d}),b("davinci-eight/core/object3D",["require","exports","davinci-eight/math/e3ga/scalarE3","davinci-eight/math/e3ga/vectorE3"],function(a,b,c,d){var e=function(){var a={position:d(0,0,0),attitude:c(1)};return a};return e}),!function(a,c){if("object"==typeof exports&&"object"==typeof module)module.exports=c();else if("function"==typeof b&&b.amd)b("gl-matrix",c);else{var d=c();for(var e in d)("object"==typeof exports?exports:a)[e]=d[e]}}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){b.glMatrix=c(1),b.mat2=c(2),b.mat2d=c(3),b.mat3=c(4),b.mat4=c(5),b.quat=c(6),b.vec2=c(9),b.vec3=c(7),b.vec4=c(8)},function(a){var b={};b.EPSILON=1e-6,b.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,b.RANDOM=Math.random,b.setMatrixArrayType=function(a){GLMAT_ARRAY_TYPE=a};var c=Math.PI/180;b.toRadian=function(a){return a*c},a.exports=b},function(a,b,c){var d=c(1),e={};e.create=function(){var a=new d.ARRAY_TYPE(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},e.clone=function(a){var b=new d.ARRAY_TYPE(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},e.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},e.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},e.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},e.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},e.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+f*i,a[1]=e*h+g*i,a[2]=d*j+f*k,a[3]=e*j+g*k,a},e.mul=e.multiply,e.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+f*h,a[1]=e*i+g*h,a[2]=d*-h+f*i,a[3]=e*-h+g*i,a},e.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*h,a[2]=f*i,a[3]=g*i,a},e.fromRotation=function(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=-c,a[3]=d,a},e.fromScaling=function(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=b[1],a},e.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},e.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))},e.LDU=function(a,b,c,d){return a[2]=d[2]/d[0],c[0]=d[0],c[1]=d[1],c[3]=d[3]-a[2]*c[1],[a,b,c]},a.exports=e},function(a,b,c){var d=c(1),e={};e.create=function(){
var a=new d.ARRAY_TYPE(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},e.clone=function(a){var b=new d.ARRAY_TYPE(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},e.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},e.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},e.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+f*k,a[1]=e*j+g*k,a[2]=d*l+f*m,a[3]=e*l+g*m,a[4]=d*n+f*o+h,a[5]=e*n+g*o+i,a},e.mul=e.multiply,e.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+f*j,a[1]=e*k+g*j,a[2]=d*-j+f*k,a[3]=e*-j+g*k,a[4]=h,a[5]=i,a},e.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d*j,a[1]=e*j,a[2]=f*k,a[3]=g*k,a[4]=h,a[5]=i,a},e.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=d*j+f*k+h,a[5]=e*j+g*k+i,a},e.fromRotation=function(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=-c,a[3]=d,a[4]=0,a[5]=0,a},e.fromScaling=function(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=b[1],a[4]=0,a[5]=0,a},e.fromTranslation=function(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=b[0],a[5]=b[1],a},e.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},e.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)},a.exports=e},function(a,b,c){var d=c(1),e={};e.create=function(){var a=new d.ARRAY_TYPE(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},e.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},e.clone=function(a){var b=new d.ARRAY_TYPE(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},e.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},e.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},e.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},e.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},e.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},e.mul=e.multiply,e.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},e.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},e.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},e.fromTranslation=function(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=b[0],a[7]=b[1],a[8]=1,a},e.fromRotation=function(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=0,a[3]=-c,a[4]=d,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},e.fromScaling=function(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=b[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},e.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},e.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a},e.normalFromMat4=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null},e.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},e.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))},a.exports=e},function(a,b,c){var d=c(1),e={};e.create=function(){var a=new d.ARRAY_TYPE(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.clone=function(a){var b=new d.ARRAY_TYPE(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},e.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},e.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},e.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},e.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},e.mul=e.multiply,e.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=c[0],q=c[1],r=c[2];return b===a?(a[12]=b[0]*p+b[4]*q+b[8]*r+b[12],a[13]=b[1]*p+b[5]*q+b[9]*r+b[13],a[14]=b[2]*p+b[6]*q+b[10]*r+b[14],a[15]=b[3]*p+b[7]*q+b[11]*r+b[15]):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=j,a[7]=k,a[8]=l,a[9]=m,a[10]=n,a[11]=o,a[12]=d*p+h*q+l*r+b[12],a[13]=e*p+i*q+m*r+b[13],a[14]=f*p+j*q+n*r+b[14],a[15]=g*p+k*q+o*r+b[15]),a},e.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},e.rotate=function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<d.EPSILON?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(c),g=Math.cos(c),h=1-g,i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],q=b[8],r=b[9],s=b[10],t=b[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a)},e.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},e.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},e.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},e.fromTranslation=function(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=b[0],a[13]=b[1],a[14]=b[2],a[15]=1,a},e.fromScaling=function(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=b[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=b[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.fromRotation=function(a,b,c){var e,f,g,h=c[0],i=c[1],j=c[2],k=Math.sqrt(h*h+i*i+j*j);return Math.abs(k)<d.EPSILON?null:(k=1/k,h*=k,i*=k,j*=k,e=Math.sin(b),f=Math.cos(b),g=1-f,a[0]=h*h*g+f,a[1]=i*h*g+j*e,a[2]=j*h*g-i*e,a[3]=0,a[4]=h*i*g-j*e,a[5]=i*i*g+f,a[6]=j*i*g+h*e,a[7]=0,a[8]=h*j*g+i*e,a[9]=i*j*g-h*e,a[10]=j*j*g+f,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)},e.fromXRotation=function(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=d,a[6]=c,a[7]=0,a[8]=0,a[9]=-c,a[10]=d,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.fromYRotation=function(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=0,a[2]=-c,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=c,a[9]=0,a[10]=d,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.fromZRotation=function(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[2]=0,a[3]=0,a[4]=-c,a[5]=d,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},e.fromRotationTranslationScale=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3],i=e+e,j=f+f,k=g+g,l=e*i,m=e*j,n=e*k,o=f*j,p=f*k,q=g*k,r=h*i,s=h*j,t=h*k,u=d[0],v=d[1],w=d[2];return a[0]=(1-(o+q))*u,a[1]=(m+t)*u,a[2]=(n-s)*u,a[3]=0,a[4]=(m-t)*v,a[5]=(1-(l+q))*v,a[6]=(p+r)*v,a[7]=0,a[8]=(n+s)*w,a[9]=(p-r)*w,a[10]=(1-(l+o))*w,a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},e.fromRotationTranslationScaleOrigin=function(a,b,c,d,e){var f=b[0],g=b[1],h=b[2],i=b[3],j=f+f,k=g+g,l=h+h,m=f*j,n=f*k,o=f*l,p=g*k,q=g*l,r=h*l,s=i*j,t=i*k,u=i*l,v=d[0],w=d[1],x=d[2],y=e[0],z=e[1],A=e[2];return a[0]=(1-(p+r))*v,a[1]=(n+u)*v,a[2]=(o-t)*v,a[3]=0,a[4]=(n-u)*w,a[5]=(1-(m+r))*w,a[6]=(q+s)*w,a[7]=0,a[8]=(o+t)*x,a[9]=(q-s)*x,a[10]=(1-(m+p))*x,a[11]=0,a[12]=c[0]+y-(a[0]*y+a[4]*z+a[8]*A),a[13]=c[1]+z-(a[1]*y+a[5]*z+a[9]*A),a[14]=c[2]+A-(a[2]*y+a[6]*z+a[10]*A),a[15]=1,a},e.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},e.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a},e.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},e.perspectiveFromFieldOfView=function(a,b,c,d){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180),h=Math.tan(b.rightDegrees*Math.PI/180),i=2/(g+h),j=2/(e+f);return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=j,a[6]=0,a[7]=0,a[8]=-((g-h)*i*.5),a[9]=(e-f)*j*.5,a[10]=d/(c-d),a[11]=-1,a[12]=0,a[13]=0,a[14]=d*c/(c-d),a[15]=0,a},e.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},e.lookAt=function(a,b,c,f){var g,h,i,j,k,l,m,n,o,p,q=b[0],r=b[1],s=b[2],t=f[0],u=f[1],v=f[2],w=c[0],x=c[1],y=c[2];return Math.abs(q-w)<d.EPSILON&&Math.abs(r-x)<d.EPSILON&&Math.abs(s-y)<d.EPSILON?e.identity(a):(m=q-w,n=r-x,o=s-y,p=1/Math.sqrt(m*m+n*n+o*o),m*=p,n*=p,o*=p,g=u*o-v*n,h=v*m-t*o,i=t*n-u*m,p=Math.sqrt(g*g+h*h+i*i),p?(p=1/p,g*=p,h*=p,i*=p):(g=0,h=0,i=0),j=n*i-o*h,k=o*g-m*i,l=m*h-n*g,p=Math.sqrt(j*j+k*k+l*l),p?(p=1/p,j*=p,k*=p,l*=p):(j=0,k=0,l=0),a[0]=g,a[1]=j,a[2]=m,a[3]=0,a[4]=h,a[5]=k,a[6]=n,a[7]=0,a[8]=i,a[9]=l,a[10]=o,a[11]=0,a[12]=-(g*q+h*r+i*s),a[13]=-(j*q+k*r+l*s),a[14]=-(m*q+n*r+o*s),a[15]=1,a)},e.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},e.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))},a.exports=e},function(a,b,c){var d=c(1),e=c(4),f=c(7),g=c(8),h={};h.create=function(){var a=new d.ARRAY_TYPE(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},h.rotationTo=function(){var a=f.create(),b=f.fromValues(1,0,0),c=f.fromValues(0,1,0);return function(d,e,g){var i=f.dot(e,g);return-.999999>i?(f.cross(a,b,e),f.length(a)<1e-6&&f.cross(a,c,e),f.normalize(a,a),h.setAxisAngle(d,a,Math.PI),d):i>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(f.cross(a,e,g),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+i,h.normalize(d,d))}}(),h.setAxes=function(){var a=e.create();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],h.normalize(b,h.fromMat3(b,a))}}(),h.clone=g.clone,h.fromValues=g.fromValues,h.copy=g.copy,h.set=g.set,h.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},h.setAxisAngle=function(a,b,c){c=.5*c;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},h.add=g.add,h.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},h.mul=h.multiply,h.scale=g.scale,h.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},h.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},h.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},h.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},h.dot=g.dot,h.lerp=g.lerp,h.slerp=function(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a},h.sqlerp=function(){var a=h.create(),b=h.create();return function(c,d,e,f,g,i){return h.slerp(a,d,g,i),h.slerp(b,e,f,i),h.slerp(c,a,b,2*i*(1-i)),c}}(),h.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},h.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},h.length=g.length,h.len=h.length,h.squaredLength=g.squaredLength,h.sqrLen=h.squaredLength,h.normalize=g.normalize,h.fromMat3=function(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*f+g]-b[3*g+f])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a},h.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},a.exports=h},function(a,b,c){var d=c(1),e={};e.create=function(){var a=new d.ARRAY_TYPE(3);return a[0]=0,a[1]=0,a[2]=0,a},e.clone=function(a){var b=new d.ARRAY_TYPE(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},e.fromValues=function(a,b,c){var e=new d.ARRAY_TYPE(3);return e[0]=a,e[1]=b,e[2]=c,e},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},e.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},e.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},e.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},e.sub=e.subtract,e.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},e.mul=e.multiply,e.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},e.div=e.divide,e.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},e.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},e.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},e.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a},e.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},e.dist=e.distance,e.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},e.sqrDist=e.squaredDistance,e.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},e.len=e.length,e.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},e.sqrLen=e.squaredLength,e.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},e.inverse=function(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a},e.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},e.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},e.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},e.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},e.hermite=function(a,b,c,d,e,f){var g=f*f,h=g*(2*f-3)+1,i=g*(f-2)+f,j=g*(f-1),k=g*(3-2*f);return a[0]=b[0]*h+c[0]*i+d[0]*j+e[0]*k,a[1]=b[1]*h+c[1]*i+d[1]*j+e[1]*k,a[2]=b[2]*h+c[2]*i+d[2]*j+e[2]*k,a},e.bezier=function(a,b,c,d,e,f){var g=1-f,h=g*g,i=f*f,j=h*g,k=3*f*h,l=3*i*g,m=i*f;return a[0]=b[0]*j+c[0]*k+d[0]*l+e[0]*m,a[1]=b[1]*j+c[1]*k+d[1]*l+e[1]*m,a[2]=b[2]*j+c[2]*k+d[2]*l+e[2]*m,a},e.random=function(a,b){b=b||1;var c=2*d.RANDOM()*Math.PI,e=2*d.RANDOM()-1,f=Math.sqrt(1-e*e)*b;return a[0]=Math.cos(c)*f,a[1]=Math.sin(c)*f,a[2]=e*b,a},e.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[3]*d+c[7]*e+c[11]*f+c[15];return g=g||1,a[0]=(c[0]*d+c[4]*e+c[8]*f+c[12])/g,a[1]=(c[1]*d+c[5]*e+c[9]*f+c[13])/g,a[2]=(c[2]*d+c[6]*e+c[10]*f+c[14])/g,a},e.transformMat3=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a},e.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},e.rotateX=function(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0],f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d),f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a},e.rotateY=function(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d),f[1]=e[1],f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a},e.rotateZ=function(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d),f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d),f[2]=e[2],a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a},e.forEach=function(){var a=e.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),e.angle=function(a,b){var c=e.fromValues(a[0],a[1],a[2]),d=e.fromValues(b[0],b[1],b[2]);e.normalize(c,c),e.normalize(d,d);var f=e.dot(c,d);return f>1?0:Math.acos(f)},e.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},a.exports=e},function(a,b,c){var d=c(1),e={};e.create=function(){var a=new d.ARRAY_TYPE(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},e.clone=function(a){var b=new d.ARRAY_TYPE(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},e.fromValues=function(a,b,c,e){var f=new d.ARRAY_TYPE(4);return f[0]=a,f[1]=b,f[2]=c,f[3]=e,f},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},e.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},e.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},e.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},e.sub=e.subtract,e.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},e.mul=e.multiply,e.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},e.div=e.divide,e.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},e.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},e.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},e.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a},e.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},e.dist=e.distance,e.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},e.sqrDist=e.squaredDistance,e.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},e.len=e.length,e.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},e.sqrLen=e.squaredLength,e.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},e.inverse=function(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a[3]=1/b[3],a},e.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=c*g,a[1]=d*g,a[2]=e*g,a[3]=f*g),a},e.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},e.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},e.random=function(a,b){return b=b||1,a[0]=d.RANDOM(),a[1]=d.RANDOM(),a[2]=d.RANDOM(),a[3]=d.RANDOM(),e.normalize(a,a),e.scale(a,a,b),a},e.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},e.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a[3]=b[3],a},e.forEach=function(){var a=e.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),e.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},a.exports=e},function(a,b,c){var d=c(1),e={};e.create=function(){var a=new d.ARRAY_TYPE(2);return a[0]=0,a[1]=0,a},e.clone=function(a){var b=new d.ARRAY_TYPE(2);return b[0]=a[0],b[1]=a[1],b},e.fromValues=function(a,b){var c=new d.ARRAY_TYPE(2);return c[0]=a,c[1]=b,c},e.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},e.set=function(a,b,c){return a[0]=b,a[1]=c,a},e.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},e.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},e.sub=e.subtract,e.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},e.mul=e.multiply,e.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},e.div=e.divide,e.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},e.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},e.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},e.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},e.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},e.dist=e.distance,e.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},e.sqrDist=e.squaredDistance,e.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},e.len=e.length,e.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},e.sqrLen=e.squaredLength,e.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},e.inverse=function(a,b){return a[0]=1/b[0],a[1]=1/b[1],a},e.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},e.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},e.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},e.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},e.random=function(a,b){b=b||1;var c=2*d.RANDOM()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a},e.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},e.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},e.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},e.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},e.forEach=function(){var a=e.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),e.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},a.exports=e}])}),b("davinci-eight/cameras/camera",["require","exports","gl-matrix","davinci-eight/core/object3D"],function(a,b,c,d){var e=function(){var a=d(),b=c.mat4.create(),e={get position(){return a.position},set position(b){a.position=b},get attitude(){return a.attitude},set attitude(b){a.attitude=b},get projectionMatrix(){return b}};return e};return e}),b("davinci-eight/cameras/perspectiveCamera",["require","exports","gl-matrix","davinci-eight/cameras/camera"],function(a,b,c,d){var e=function(a,b,e,f){function g(){c.mat4.perspective(h.projectionMatrix,a,b,e,f)}void 0===a&&(a=75*Math.PI/180),void 0===b&&(b=1),void 0===e&&(e=.1),void 0===f&&(f=2e3);var h=d();g();var i={get position(){return h.position},set position(a){h.position=a},get attitude(){return h.attitude},set attitude(a){h.attitude=a},get aspect(){return b},set aspect(a){b=a,g()},get projectionMatrix(){return h.projectionMatrix}};return i};return e}),b("davinci-eight/scenes/scene",["require","exports","davinci-eight/core/object3D"],function(a,b,c){var d=function(){var a,b,d=[],e={},f=(c(),{get drawGroups(){return e},get children(){return d},contextFree:function(a){for(var b=0,c=d.length;c>b;b++)d[b].contextFree(a)},contextGain:function(b,c){a=b,c=c,d.forEach(function(a){a.contextGain(b,c);var d=a.drawGroupName;e[d]||(e[d]=[]),e[d].push(a)})},contextLoss:function(){d.forEach(function(a){a.contextLoss()}),a=void 0,b=void 0},hasContext:function(){return!!a},add:function(a){d.push(a)}});return f};return d}),b("davinci-eight/renderers/webGLRenderer",["require","exports"],function(){function a(a,b){var c;try{c=a.getContext("webgl",b)||a.getContext("experimental-webgl",b)}catch(d){}if(c)return c;throw new Error("Unable to initialize WebGL. Your browser may not support it.")}var b=function(){function a(){this.startTime=Date.now(),this.frameTime=0}return a.prototype.time=function(){return this.frameTime},a.prototype.frameBegin=function(){},a.prototype.frameEnd=function(){this.frameTime=Date.now()-this.startTime},a}(),c=function(c){function d(a,b,c,d){
e&&e.viewport(a*o,b*o,c*o,d*o)}c=c||{};var e,f,g=void 0!==c.canvas?c.canvas:document.createElement("canvas"),h=void 0!==c.alpha?c.alpha:!1,i=void 0!==c.depth?c.depth:!0,j=void 0!==c.stencil?c.stencil:!0,k=void 0!==c.antialias?c.antialias:!1,l=void 0!==c.premultipliedAlpha?c.premultipliedAlpha:!0,m=void 0!==c.preserveDrawingBuffer?c.preserveDrawingBuffer:!1,n=new b,o=1,p={get canvas(){return g},get context(){return e},contextFree:function(){e=void 0},contextGain:function(a){e=a,e.clearColor(.125,.125,.125,1),e.enable(e.DEPTH_TEST)},contextLoss:function(){},hasContext:function(){return!!e},clearColor:function(a,b,c,d){e&&e.clearColor(a,b,c,d)},render:function(a,b){n.frameBegin(),e.clearColor(.8,.8,.8,1),e.enable(e.DEPTH_TEST),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);a.hasContext()||a.contextGain(e,f);var c,d=n.time(),g=function(a){c||(a.useProgram(e),c=!0),a.draw(e,d,b)};for(var h in a.drawGroups)c=!1,a.drawGroups[h].forEach(g)},setViewport:d,setSize:function(a,b,c){g.width=a*o,g.height=b*o,c!==!1&&(g.style.width=a+"px",g.style.height=b+"px"),d(0,0,a,b)}},q={alpha:h,depth:i,stencil:j,antialias:k,premultipliedAlpha:l,preserveDrawingBuffer:m};return e=a(g,q),f=Math.random().toString(),d(0,0,g.width,g.height),p};return c}),b("davinci-eight/objects/ElementArray",["require","exports"],function(){function a(a,b){return a.dynamic()?b.DYNAMIC_DRAW:b.STATIC_DRAW}var b=function(){function b(){}return b.prototype.contextFree=function(a){this.buffer&&(a.deleteBuffer(this.buffer),this.buffer=void 0)},b.prototype.contextGain=function(a){this.buffer=a.createBuffer()},b.prototype.contextLoss=function(){this.buffer=void 0},b.prototype.bufferData=function(b,c){var d=c.getElements();if(d){b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.buffer);var e=a(c,b);b.bufferData(b.ELEMENT_ARRAY_BUFFER,d,e)}},b.prototype.bind=function(a){this.buffer&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.buffer)},b}();return b}),b("davinci-eight/objects/mesh",["require","exports","davinci-eight/core/object3D","gl-matrix","davinci-eight/objects/ElementArray"],function(a,b,c,d,e){var f=function(){function a(a){this.name=a}return a.prototype.contextGain=function(a,b){this.location=a.getUniformLocation(b,this.name)},a.prototype.foo=function(a,b,c){a.uniformMatrix4fv(this.location,b,c)},a}(),g=function(a,b){function g(c,d){a.update(d,b.attributes),b.update(c,d,a),k.bufferData(c,a)}var h,i,j=c(),k=new e,l=new f("uMVMatrix"),m=new f("uPMatrix"),n=d.mat4.create(),o=d.mat3.create(),p={get geometry(){return a},get material(){return b},contextFree:function(a){b.contextFree(a),k.contextFree(a)},contextGain:function(c,d){h!==d&&(h=d,b.contextGain(c,d),k.contextGain(c),a.dynamic()||g(c,0),l.contextGain(c,b.program),i=c.getUniformLocation(b.program,"uNormalMatrix"),m.contextGain(c,b.program))},contextLoss:function(){b.contextLoss(),k.contextLoss()},hasContext:function(){return b.hasContext()},get drawGroupName(){return b.programId},useProgram:function(a){a.useProgram(b.program)},draw:function(c,e,f){var h=j.position,p=j.attitude;if(b.hasContext()){a.dynamic()&&g(c,e),d.mat4.identity(n),d.mat4.translate(n,n,[h.x,h.y,h.z]);var q=d.mat4.create();d.mat4.fromQuat(q,[p.yz,p.zx,p.xy,p.w]),d.mat4.mul(n,n,q),q=null,m.foo(c,!1,f.projectionMatrix),l.foo(c,!1,n),i&&(d.mat3.normalFromMat4(o,n),c.uniformMatrix3fv(i,!1,o)),b.enableVertexAttributes(c),b.bindVertexAttributes(c),a.draw(c),k.bind(c),b.disableVertexAttributes(c)}},get position(){return j.position},set position(a){j.position=a},get attitude(){return j.attitude},set attitude(a){j.attitude=a}};return p};return g}),b("davinci-eight/utils/webGLContextMonitor",["require","exports"],function(){var a=function(a,b,c,d){var e=function(a){a.preventDefault(),d()},f=function(b){b.preventDefault();var d=a.getContext("webgl");c(d,Math.random().toString())},g={start:function(b){a.addEventListener("webglcontextlost",e,!1),a.addEventListener("webglcontextrestored",f,!1),c(b,Math.random().toString())},stop:function(){b(),a.removeEventListener("webglcontextrestored",f,!1),a.removeEventListener("webglcontextlost",e,!1)}};return g};return a}),b("davinci-eight/utils/workbench3D",["require","exports"],function(){function a(a,b){for(var c=a.getElementsByTagName(b),d=c.length-1;d>=0;d--){var e=c[d];e.parentNode.removeChild(e)}}var b="resize",c="canvas",d=function(d,e,f,g){function h(){var a=g.innerWidth,b=g.innerHeight;e.setSize(a,b),f.aspect=a/b}void 0===g&&(g=window);var i=g.document,j=function(){h()},k={setUp:function(){i.body.insertBefore(d,i.body.firstChild),g.addEventListener(b,j,!1),h()},tearDown:function(){g.removeEventListener(b,j,!1),a(i,c)}};return k};return d}),b("davinci-eight/utils/windowAnimationRunner",["require","exports"],function(){var a=function(a,b,c,d,e){e=e||window;var f=!1,g=!1,h=!1,i=null,j=null,k=1e3,l=null,m=null,n=function(c){if(i?j=c-i:(i=c,j=0),f||b(j/k)){f=!1,e.cancelAnimationFrame(l),e.document.removeEventListener("keydown",o,!1);try{d(m)}catch(g){console.log("Exception thrown by tearDown method. "+g)}}else{l=e.requestAnimationFrame(n);try{a(j/k)}catch(g){console.log("Exception thrown by tick method. "+g),m=g,f=!0}}},o=function(a){27===a.keyCode?(f=!0,a.preventDefault()):19===a.keyCode?(g=!0,a.preventDefault()):13===a.keyCode&&(h=!0,a.preventDefault())},p={start:function(){c(),e.document.addEventListener("keydown",o,!1),l=e.requestAnimationFrame(n)},stop:function(){f=!0}};return p};return a}),b("davinci-eight/geometries/boxGeometry",["require","exports","davinci-eight/math/e3ga/vectorE3"],function(a,b,c){var d=[c(-.5,-.5,.5),c(.5,-.5,.5),c(.5,.5,.5),c(-.5,.5,.5),c(-.5,-.5,-.5),c(.5,-.5,-.5),c(.5,.5,-.5),c(-.5,.5,-.5)],e=[[0,1,2],[0,2,3],[4,7,5],[5,7,6],[0,7,4],[0,3,7],[1,5,2],[2,5,6],[2,7,3],[2,6,7],[0,5,1],[0,4,5]],f=function(){var a,b,c,f=[],g={draw:function(a){a.drawArrays(a.TRIANGLES,0,3*e.length)},dynamic:function(){return!1},getAttributes:function(){return[{name:"aVertexPosition",size:3},{name:"aVertexColor",size:3},{name:"aVertexNormal",size:3}]},getElements:function(){},getVertexAttribArrayData:function(d){switch(d){case"aVertexPosition":return a;case"aVertexColor":return b;case"aVertexNormal":return c;default:return}},update:function(g,h){var i=h.indexOf("aVertexPosition")>=0,j=h.indexOf("aVertexColor")>=0,k=h.indexOf("aVertexNormal")>=0;if(!i)throw new Error("Box geometry is expecting to provide aVertexPosition");var l=[],m=[],n=[];e.forEach(function(a){if(f.push(a[0]),f.push(a[1]),f.push(a[2]),i)for(var b=0;3>b;b++)l.push(d[a[b]].x),l.push(d[a[b]].y),l.push(d[a[b]].z);if(j&&(m.push(0),m.push(0),m.push(1),m.push(0),m.push(0),m.push(1),m.push(0),m.push(0),m.push(1)),k){var c=d[a[0]],e=d[a[1]],g=d[a[2]],h=e.sub(c).cross(g.sub(c)),o=h.div(h.norm());n.push(o.x),n.push(o.y),n.push(o.z),n.push(o.x),n.push(o.y),n.push(o.z),n.push(o.x),n.push(o.y),n.push(o.z)}}),i&&(a=new Float32Array(l)),j&&(b=new Float32Array(m)),k&&(c=new Float32Array(n))}};return g};return f}),b("davinci-eight/geometries/CurveGeometry",["require","exports"],function(){function a(a){for(var b=[],c=0;a>c;c++)b.push(1),b.push(1),b.push(1);return b}var b=function(){function b(a,b){this.n=a,this.generator=b}return b.prototype.draw=function(a){a.drawElements(a.POINTS,this.elements.length,a.UNSIGNED_SHORT,0)},b.prototype.dynamic=function(){return!0},b.prototype.getAttributes=function(){return[{name:"aVertexPosition",size:3},{name:"aVertexColor",size:3}]},b.prototype.getElements=function(){return this.elements},b.prototype.getVertexAttribArrayData=function(a){switch(a){case"aVertexPosition":return this.vertices;case"aVertexColor":return this.vertexColors;default:return}},b.prototype.update=function(b){for(var c=this.n,d=this.generator,e=[],f=[],g=0;c>g;g++){var h=d(g,b);e.push(h.x),e.push(h.y),e.push(h.z),f.push(g)}this.elements=new Uint16Array(f),this.vertices=new Float32Array(e),this.vertexColors=new Float32Array(a(f.length))},b}();return b}),b("davinci-eight/geometries/LatticeGeometry",["require","exports"],function(){function a(a){for(var b=[],c=0;a>c;c++)b.push(1),b.push(1),b.push(1);return b}var b=function(){function b(a,b,c,d){this.I=a,this.J=b,this.K=c,this.generator=d}return b.prototype.draw=function(a){a.drawElements(a.POINTS,this.elements.length,a.UNSIGNED_SHORT,0)},b.prototype.dynamic=function(){return!0},b.prototype.getAttributes=function(){return[{name:"aVertexPosition",size:3},{name:"aVertexColor",size:3}]},b.prototype.getElements=function(){return this.elements},b.prototype.getVertexAttribArrayData=function(a){switch(a){case"aVertexPosition":return this.vertices;case"aVertexColor":return this.vertexColors;case"aVertexNormal":return this.vertexNormals;default:return}},b.prototype.update=function(b){for(var c=this.I,d=this.J,e=this.K,f=this.generator,g=[],h=[],i=0,j=-c;c>=j;j++)for(var k=-d;d>=k;k++)for(var l=-e;e>=l;l++){var m=f(j,k,l,b);g.push(m.x),g.push(m.y),g.push(m.z),h.push(i),i++}this.elements=new Uint16Array(h),this.vertices=new Float32Array(g),this.vertexColors=new Float32Array(a(h.length)),this.vertexNormals=new Float32Array(a(h.length))},b}();return b}),b("davinci-eight/geometries/RGBGeometry",["require","exports"],function(){var a=function(){function a(){}return a.prototype.draw=function(a){a.drawElements(a.POINTS,this.elements.length,a.UNSIGNED_SHORT,0)},a.prototype.dynamic=function(){return!1},a.prototype.getAttributes=function(){return[{name:"aVertexPosition",size:3},{name:"aVertexColor",size:3}]},a.prototype.getElements=function(){return this.elements},a.prototype.getVertexAttribArrayData=function(a){switch(a){case"aVertexPosition":return this.vertices;case"aVertexColor":return this.vertexColors;default:return}},a.prototype.update=function(){var a=[0,0,1,0,0,0,1,0,1,1,0,0,0,1,1,0,1,0,1,1,1,1,1,0].map(function(a){return a-.5}),b=[0,0,0,0,0,1,0,1,0,0,1,1,1,0,0,1,0,1,1,1,0,1,1,1],c=[0,1,2,3,4,5,6,7];this.elements=new Uint16Array(c),this.vertices=new Float32Array(a),this.vertexColors=new Float32Array(b)},a}();return a}),b("davinci-eight/geometries/prismGeometry",["require","exports","davinci-eight/math/e3ga/vectorE3"],function(a,b,c){var d=[c(-1,0,.5),c(0,0,.5),c(1,0,.5),c(-.5,1,.5),c(.5,1,.5),c(0,2,.5),c(-1,0,-.5),c(0,0,-.5),c(1,0,-.5),c(-.5,1,-.5),c(.5,1,-.5),c(0,2,-.5)],e=[[0,1,3],[1,4,3],[1,2,4],[3,4,5],[6,9,7],[7,9,10],[7,10,8],[9,11,10],[0,3,6],[3,9,6],[3,5,9],[5,11,9],[2,8,4],[4,8,10],[4,10,5],[5,10,11],[0,6,8],[0,8,2]],f=function(){var a=[],b=[],c=[],f=[];e.forEach(function(e){a.push(e[0]),a.push(e[1]),a.push(e[2]);for(var g=d[e[0]],h=d[e[1]],i=d[e[2]],j=h.sub(g).cross(i.sub(g)),k=j.div(j.norm()),l=0;3>l;l++)b.push(d[e[l]].x),b.push(d[e[l]].y),b.push(d[e[l]].z),c.push(k.x),c.push(k.y),c.push(k.z),f.push(1),f.push(0),f.push(0)});var g={draw:function(a){a.drawArrays(a.TRIANGLES,0,3*e.length)},dynamic:function(){return!1},getAttributes:function(){return[]},getElements:function(){return null},getVertexAttribArrayData:function(a){switch(a){case"aVertexPosition":return new Float32Array(b);default:return}},update:function(){}};return g};return f}),b("davinci-eight/objects/VertexAttribArray",["require","exports"],function(){function a(a,b){return a.dynamic()?b.DYNAMIC_DRAW:b.STATIC_DRAW}function b(a){return a>=0}var c=function(){function c(a,b){this.name=a,this.size=b}return c.prototype.contextFree=function(a){this.buffer&&(a.deleteBuffer(this.buffer),this.contextLoss())},c.prototype.contextGain=function(a,c){this.location=a.getAttribLocation(c,this.name),b(this.location)&&(this.buffer=a.createBuffer())},c.prototype.contextLoss=function(){this.location=void 0,this.buffer=void 0},c.prototype.bind=function(a){b(this.location)&&(a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.vertexAttribPointer(this.location,this.size,a.FLOAT,!1,0,0))},c.prototype.bufferData=function(c,d){if(b(this.location)){var e=d.getVertexAttribArrayData(this.name);if(!e)throw new Error("Geometry implementation does not support the attribute "+this.name);c.bindBuffer(c.ARRAY_BUFFER,this.buffer),c.bufferData(c.ARRAY_BUFFER,e,a(d,c))}},c.prototype.enable=function(a){b(this.location)&&a.enableVertexAttribArray(this.location)},c.prototype.disable=function(a){b(this.location)&&a.disableVertexAttribArray(this.location)},c}();return c}),b("davinci-eight/materials/rawShaderMaterial",["require","exports","../objects/VertexAttribArray"],function(a,b,c){function d(a,b,c){var d=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw new Error(a.getShaderInfoLog(d));var e=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(e,c),a.compileShader(e),!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error(a.getShaderInfoLog(e));var f=a.createProgram();if(a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),!a.getProgramParameter(f,a.LINK_STATUS))throw new Error(a.getProgramInfoLog(f));return f}function e(){var a=function(a){return Math.pow(2,a)},b=(a(4),a(6)),c=a(8),d=a(12),e=(a(14),a(16)),f=a(32),g=(a(40),a(48),function(a,b){return Math.floor(Math.random()*(b-a+1))+a}),h=function(){return g(0,b-1)},i=function(){return g(0,c-1)},j=function(){return g(0,d-1)},k=function(){return g(0,e-1)},l=function(){return g(0,f-1)},m=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n=function(a,b,c){a=String(a),c=c?c:"0";for(var d=b-a.length;d>0;d>>>=1,c+=c)1&d&&(a=c+a);return a},o=function(a,b,c,d,e,f){var g=n(a.toString(16),8)+"-"+n(b.toString(16),4)+"-"+n(c.toString(16),4)+"-"+n(d.toString(16),2)+n(e.toString(16),2)+"-"+n(f.toString(16),12);return g};return{generate:function(){return o(l(),k(),16384|j(),128|h(),i(),m())},validate:function(a){var b=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return b.test(a)}}}var f=function(a,b,f){function g(){h=void 0,i=void 0}var h,i,j,k=a.map(function(a){return new c(a.name,a.size)}),l={get attributes(){return k.map(function(a){return a.name})},contextFree:function(a){h&&(a.deleteProgram(h),g()),k.forEach(function(b){b.contextFree(a)})},contextGain:function(a,c){j!==c&&(h=d(a,b,f),i=e().generate(),j=c,k.forEach(function(b){b.contextGain(a,h)}))},contextLoss:function(){k.forEach(function(a){a.contextLoss()})},hasContext:function(){return!!h},enableVertexAttributes:function(a){k.forEach(function(b){b.enable(a)})},disableVertexAttributes:function(a){k.forEach(function(b){b.disable(a)})},bindVertexAttributes:function(a){k.forEach(function(b){b.bind(a)})},get program(){return h},get programId(){return i},update:function(a,b,c){k.forEach(function(b){b.bufferData(a,c)})}};return l};return f}),b("davinci-eight/materials/RawShaderMaterial",["require","exports","../objects/VertexAttribArray"],function(a,b,c){function d(a,b,c){var d=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw new Error(a.getShaderInfoLog(d));var e=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(e,c),a.compileShader(e),!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error(a.getShaderInfoLog(e));var f=a.createProgram();if(a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),!a.getProgramParameter(f,a.LINK_STATUS))throw new Error(a.getProgramInfoLog(f));return f}function e(){var a=function(a){return Math.pow(2,a)},b=(a(4),a(6)),c=a(8),d=a(12),e=(a(14),a(16)),f=a(32),g=(a(40),a(48),function(a,b){return Math.floor(Math.random()*(b-a+1))+a}),h=function(){return g(0,b-1)},i=function(){return g(0,c-1)},j=function(){return g(0,d-1)},k=function(){return g(0,e-1)},l=function(){return g(0,f-1)},m=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n=function(a,b,c){a=String(a),c=c?c:"0";for(var d=b-a.length;d>0;d>>>=1,c+=c)1&d&&(a=c+a);return a},o=function(a,b,c,d,e,f){var g=n(a.toString(16),8)+"-"+n(b.toString(16),4)+"-"+n(c.toString(16),4)+"-"+n(d.toString(16),2)+n(e.toString(16),2)+"-"+n(f.toString(16),12);return g};return{generate:function(){return o(l(),k(),16384|j(),128|h(),i(),m())},validate:function(a){var b=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return b.test(a)}}}var f=function(){function a(a,b,d){this.attributes=[],this.vertexAttributes=a.map(function(a){return new c(a.name,a.size)}),this.vertexShader=b,this.fragmentShader=d,this.attributes=this.vertexAttributes.map(function(a){return a.name})}return a.prototype.enableVertexAttributes=function(a){this.vertexAttributes.forEach(function(b){b.enable(a)})},a.prototype.disableVertexAttributes=function(a){this.vertexAttributes.forEach(function(b){b.disable(a)})},a.prototype.bindVertexAttributes=function(a){this.vertexAttributes.forEach(function(b){b.bind(a)})},a.prototype.update=function(a,b,c){this.vertexAttributes.forEach(function(b){b.bufferData(a,c)})},a.prototype.contextFree=function(a){this.program&&(a.deleteProgram(this.program),this.contextLoss()),this.vertexAttributes.forEach(function(b){b.contextFree(a)})},a.prototype.contextGain=function(a,b){if(this.contextGainId!==b){this.program=d(a,this.vertexShader,this.fragmentShader),this.programId=e().generate(),this.contextGainId=b;var c=this.program;this.vertexAttributes.forEach(function(b){b.contextGain(a,c)})}},a.prototype.contextLoss=function(){this.vertexAttributes.forEach(function(a){a.contextLoss()}),this.program=void 0,this.programId=void 0,this.contextGainId=void 0},a.prototype.hasContext=function(){return!!this.program},a}();return f}),b("davinci-eight/materials/meshBasicMaterial",["require","exports","davinci-eight/materials/material"],function(a,b,c){var d=function(a){var b=c(a);return b};return d}),b("davinci-eight/materials/meshNormalMaterial",["require","exports","davinci-eight/materials/material"],function(a,b,c){var d=function(a){var b=c(a);return b};return d}),b("davinci-eight",["require","exports","davinci-eight/core","davinci-eight/materials/material","davinci-eight/core/object3D","davinci-eight/cameras/perspectiveCamera","davinci-eight/scenes/scene","davinci-eight/renderers/webGLRenderer","davinci-eight/objects/mesh","davinci-eight/utils/webGLContextMonitor","davinci-eight/utils/workbench3D","davinci-eight/utils/windowAnimationRunner","davinci-eight/geometries/boxGeometry","davinci-eight/geometries/CurveGeometry","davinci-eight/geometries/LatticeGeometry","davinci-eight/geometries/RGBGeometry","davinci-eight/geometries/prismGeometry","davinci-eight/materials/rawShaderMaterial","davinci-eight/materials/RawShaderMaterial","davinci-eight/materials/meshBasicMaterial","davinci-eight/materials/meshNormalMaterial","davinci-eight/objects/VertexAttribArray"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w={VERSION:c.VERSION,perspective:f,scene:g,object3D:e,renderer:h,contextMonitor:j,workbench:k,animationRunner:l,mesh:i,box:m,CurveGeometry:n,LatticeGeometry:o,RGBGeometry:p,prism:q,material:d,meshBasicMaterial:t,meshNormalMaterial:u,VertexAttribArray:v,get rawShaderMaterial(){return r},RawShaderMaterial:s};return w});var f=d("davinci-eight");"undefined"!=typeof module&&module.exports?module.exports=f:e?!function(a){a(function(){return f})}(e):a.eight=f}(this);