extends layout

block content
  script(src='node_modules/core-js/client/shim.min.js')
  script(src='node_modules/zone.js/dist/zone.js')
  script(src='node_modules/reflect-metadata/Reflect.js')
  script(src=jspmSystemJs)
  script(src=jspmConfigJs)
  script.
    if ('serviceWorker'in navigator) {
      navigator.serviceWorker
        .register('/sw.js')
        .then(function() {
          /* console.log("STEMCstudio service worker registered."); */
        });
    }
  script.
    var systemLocate = System.locate;
    System.locate = function(load) {
      var System = this;
      return Promise.resolve(systemLocate.call(this, load)).then(function(address) {
        return address + System.cacheBust;
      });
    };
    System.cacheBust = '?bust=' + Date.now();
    System.import('js/bootstrap.js');
  div(data-ui-view)
