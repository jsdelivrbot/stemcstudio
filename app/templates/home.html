<div id='preview'></div>
<!-- -->
<div id='html-editor' ng-show='isEditMode &amp;&amp; isShowingHTML'></div>
<!-- -->
<div id='code-editor' ng-show='isEditMode &amp;&amp; isShowingCode'></div>
<!-- -->
<nav id='toolbar' class='navbar navbar-inverse'>
  <div class='container-fluid'>
    <div class='navbar-header'>
      <a class='navbar-brand' href='#' ng-click='toggleMode()'>
        <!--span class="glyphicon glyphicon-film" aria-hidden="true" ng-show='isEditMode'></span-->
        <!--span class="glyphicon glyphicon-edit" aria-hidden="true" ng-hide='isEditMode'></span-->
        {{doodles[0].description}}
      </a>
    </div>
    <div class='collapse navbar-collapse' ng-show='isEditMode'>
      <ul class='nav navbar-nav'>
        <li ng-show='isEditMode'>
          <a href='#' ng-click='showHTML()'>
            <span class="glyphicon glyphicon-ok" aria-hidden="true" ng-show='isShowingHTML'></span>
            HTML
          </a>
        </li>
        <li ng-show='isEditMode'>
          <a href='#' ng-click='showCode()'>
            <span class="glyphicon glyphicon-ok" aria-hidden="true" ng-show='isShowingCode'></span>
            Code
          </a>
        </li>
        <li ng-show='isEditMode'>
          <a href='#' ng-click='toggleView()'>
            <span class="glyphicon glyphicon-stop" aria-hidden="true" ng-show='isViewVisible'></span>
            <span class="glyphicon glyphicon-play" aria-hidden="true" ng-hide='isViewVisible'></span>
          </a>
        </li>
        <li class='dropdown' ng-show='isEditMode'>
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
            <span class="glyphicon glyphicon-hdd" aria-hidden='true'></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="#" ng-click='doNew()'>New</a>
            </li>
            <li>
              <a href="#" ng-click='doOpen()'>Open</a>
            </li>
            <li>
              <a href="#" ng-click='doCopy()'>Copy</a>
            </li>
            <li class='divider'></li>
            <li>
              <a href="#" ng-click='doProperties()'>Properties</a>
            </li>
          </ul>
        </li>
        <li class='dropdown' ng-show='isEditMode'>
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
            <span class="glyphicon glyphicon-cloud" aria-hidden="true"></span>
            {{userLogin()}}
          </a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="#" ng-click='login()'  ng-hide='isLoggedIn()'>
                <span class="glyphicon glyphicon-log-in" aria-hidden="true"></span>
                Log in
              </a>
            </li>
            <li>
              <a href="#" ng-click='doDownload()' ng-show='isLoggedIn()'>
                <span class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span>
                Download
              </a>
            </li>
            <li>
              <a href="#" ng-click='doUpload()' ng-show='isLoggedIn()'>
                <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
                Upload
              </a>
            </li>
            <li class='divider' ng-show='isLoggedIn()'></li>
            <li>
              <a href="#" ng-click='logout()' ng-show='isLoggedIn()'>
                <span class="glyphicon glyphicon-log-out" aria-hidden="true" ng-show='isEditMode'></span>
                Log out
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- -->
<dialog id="new-dialog" ng-controller='NewController' class='modal-dialog'>
  <div class='modal-header'>
      <button type="button" class="close" data-dismiss="modal" aria-hidden='true' ng-click='doCancel()'>&times;</button>
    <h3>Create a New Doodle</h3>
  </div>
  <form>
    <fieldset>
      <div class='modal-body'>
        <input type='text' ng-model='description' placeholder="Enter description" autofocus/>
        <label class='text-muted'>Template:</label>
        <select ng-model='template' ng-options='template.description for template in templates track by template.uuid'></select>
      </div>
      <div class='modal-footer'>
        <button class='btn btn-primary' ng-click='doOK()'>Create doodle</button>
        <button class='btn' ng-click='doCancel()'>Cancel</button>
      </div>
    </fieldset>
  </form>
</dialog>
<!-- -->
<dialog id="open-dialog" ng-controller='OpenController' class='modal-dialog'>
  <div class='modal-header'>
      <button type="button" class="close" data-dismiss="modal" aria-hidden='true' ng-click='doCancel()'>&times;</button>
    <h3>Open Doodle</h3>
  </div>
  <div class='modal-body'>
    <p ng-repeat='doodle in doodles track by doodle.uuid'>
      <a href='#' ng-click='doOpen(doodle.uuid)'>{{doodle.description}}</a>
      <!--a href='#' ng-click='doDelete(doodle.uuid)' class='delete'>[delete]</a-->
    </p>
  </div>
  <div class='modal-footer'>
    <button class='btn' ng-click='doCancel()'>Cancel</button>
  </div>
</dialog>
<!-- -->
<dialog id="copy-dialog" ng-controller='CopyController' class='modal-dialog'>
  <div class='modal-header'>
      <button type="button" class="close" data-dismiss="modal" aria-hidden='true' ng-click='doCancel()'>&times;</button>
    <h3>Copy Doodle</h3>
  </div>
  <div class='modal-body'>
    <input type='text' ng-model='description' placeholder="Enter description" autofocus/>
  </div>
  <div class='modal-footer'>
    <button class='btn btn-primary' ng-click='doOK()'>Copy doodle</button>
    <button class='btn' ng-click='doCancel()'>Cancel</button>
  </div>
</dialog>
<!-- -->
<dialog id="share-dialog" ng-controller='ShareController'>
  <input type='text'
         value='{{shareURL()}}'
         readonly='readonly'
         onClick="this.setSelectionRange(0,this.value.length)"/>
  <div>
    <button class='btn' ng-click='doClose()'>Close</button>
  </div>
</dialog>
<!-- -->
<dialog id="download-dialog" ng-controller='DownloadController' class='modal-dialog'>
  <div class='modal-header'>
      <button type="button" class="close" data-dismiss="modal" aria-hidden='true' ng-click='doCancel()'>&times;</button>
    <h3>Download Doodle</h3>
  </div>
  <div class='modal-body'>
    <p ng-repeat='gist in gists track by gist.id'>
      <a href='#' ng-click='doDownload(gist.id)'>{{gist.description}}</a>
    </p>
  </div>
  <div class='modal-footer'>
    <button class='btn' ng-click='doCancel()'>Close</button>
  </div>
</dialog>
<!-- -->
<dialog id="doodle-dialog" ng-controller='DoodleController' class='modal-dialog'>
  <div class='modal-header'>
      <button type="button" class="close" data-dismiss="modal" aria-hidden='true' ng-click='doCancel()'>&times;</button>
    <h3>Doodle</h3>
  </div>
  <div class='modal-body'>
    <input type='text' ng-model='description' placeholder="Enter description" autofocus/>
    <h4>Dependencies</h4>
    <label ng-repeat='option in options track by option.name' class='checkbox-inline'>
      <input type='checkbox' ng-checked='dependencies.indexOf(option.name) > -1' ng-click='toggleDependency(option.name)'>{{option.name}}</input>
    </label>
  </div>
  <div class='modal-footer'>
    <button class='btn btn-primary' ng-click='doOK()'>OK</button>
    <button class='btn' ng-click='doCancel()'>Cancel</button>
  </div>
</dialog>
